=YouBot-stack development repository=

The University of Twente (www.utwente.nl) is not liable for any damage arising directly or indirectly from using the code in this repository.

==INSTALLATION==

===Prerequisites===
* youBot firmware 1.48 & youbot_driver v0.96
* Ubuntu, preferably 12.04
 - libcap2: sudo apt-get install libcap2-bin
* ROS (fuerte) installed and setup (www.ros.org)
 - Use Ubuntu packages, atleast: 
   sudo apt-get install ros-fuerte-desktop
* rosinstall & rosdep, if not already installed: 
 - sudo apt-get install python-rosinstall python-rosdep
* orocos_toolchain_ros (corresponding to fuerte) installed and setup. 
 - Use Ubuntu packages: 
   sudo apt-get install ros-fuerte-orocos-* ros-fuerte-rtt-*

=== Install procedure ===
1) Clone the generic Orocos components:
git clone https://git.ce.utwente.nl/generic_components 

2) Install the external stack/package dependencies:
2a) Replace DEV by your install folder
rosinstall ~/DEV youbot-stack.rosinstall /opt/ros/fuerte
rosdep install motion_control
rosdep install fbsched
rosdep install rFSM
rosdep install youbot_driver
rosmake motion_control fbsched rFSM youbot_driver

Now, type 'source /home/k12/youbot/orocos_stacks/setup.bash' to set up your environment.
Add that to the bottom of your ~/.bashrc to set it up every time.


3) Adjust the ROS_PACKAGE_PATH to find all packages and stacks.

4) Build the UTwente youbot-stack
rosmake youbot-stack generic_components
roscd
== USAGE (example) ==
1) roscd YouBot_deployment/rtt_deploy
2) Adjust the run.sh to have the proper ROS_PACKAGE_PATH
3) sudo ./run.sh <USE_CASE>/deploy.ops

== DOCUMENTATION == 
* Y. Brodskiy, J.F. Broenink, S.S. Stramigioli and R.J.W.Wilterdink. Collection of methods for achieving Robust Autonomy. Technical Report D62, The BRICS Project (Grant Agreement Number: 231940), available from http://www.best-of-robotics.org, January 2011.
* Y. Brodskiy, D. Dresscher, S. Stramigioli, J.F. Broenink, and C. Yalcin. Design principles, implementation guidelines, evaluation criteria, and use case implementation for robust autonomy. Technical Report D61, The BRICS Project (Grant Agreement Number: 231940), available from http://www.best-of-robotics.org/, January 2011.
* Outdated: http://www.best-of-robotics.org/3rd_researchcamp/CodeGenerationForRTT
Note, D62 describes three use cases implemented with the youbot-stack.

=== Components/nodes in this repository ===
* motion_stack - contains the motion stack prototype described in D62
* YouBot_OODL - component wrapper for the BRSU youBot driver
* YouBot_executive - facilitates using the motion stack
* YouBot_deployment/rtt_deploy - contains the deployment scripts for running the use cases.
* YouBot_adapters - adapters specially created for the youBot

Use case specific components:
* YouBot_monitors - monitoring component designed for RC3
* Master_executive - facilitates the master side of the tele-operation use case
* rtt_brics_actuator - component for the BRSU RoboCup@Work use case
* arm_bridge_ros_orocos - component for the BRSU RoboCup@Work use case

=== External packages/stacks ===
 - youbot_driver - BRICS youBot OODL (Bohn-Rhine-Sieg)
 - motion_control stack - message types (KU Leuven)
 - fbsched - function block scheduler (KU Leuven)
 - rFSM - Orocos Lua FSM (KU Leuven)

== MAJOR UPDATE LOG ==
06/05/2013 ROS fuerte upgrade. Please clean every package and rebuild with fuerte installed.
10/04/2013 Clean up for BRICS project ending.
14/05/2012 Changed the install procedure and the required youbot_driver version. Please redo the installation as described above.
01/05/2012 Updated YouBot_OODL port naming to match KUL youbot_master_rtt ports. To update: git pull; rosmake --pre-clean YouBot_OODL; Afterwards: update your scripts.
12/12/2011 Cleaned stack, i.e. moved foreign includes/directories into external folder. To update: git submodule init; git submodule update; rm -rf ./rFSM ./soem; rosmake --pre-clean; Note: You might have to update the external/youbot_applications and youbot_driver yourself (cd external/youbot_applications; git checkout master; git pull; cd joint_configurator; make clean)

= ACKNOWLEDGEMENTS =
The research leading to these results has received funding from the European Community's Seventh Framework Programme (FP7/2007-2013) under grant agreement no. FP7-ICT-231940-BRICS (Best Practice in Robotics).
